(this.webpackJsonpbig2=this.webpackJsonpbig2||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={Container:"GamePage_Container__N989G",submitInfoContainer:"GamePage_submitInfoContainer__2sjfo",userInfoContainer:"GamePage_userInfoContainer__2g4nF",loadingContainer:"GamePage_loadingContainer__1Zro2",userCorner:"GamePage_userCorner__2EhId",cornerButton:"GamePage_cornerButton__spn0R",tooltip:"GamePage_tooltip__3BE0h",pageButton:"GamePage_pageButton__3SXhc GamePage_cornerButton__spn0R",cornerIcon:"GamePage_cornerIcon__3f9Lx",rowContainer:"GamePage_rowContainer__3zHTx",readyCircle:"GamePage_readyCircle__1IsTO",playerReadyContainer:"GamePage_playerReadyContainer__3d0ov",words:"GamePage_words__1SO2V index_genericText__3sj49",playButton:"GamePage_playButton__2Tx0u index_genericButton__33zSg",p:"GamePage_p__1626i index_genericText__3sj49",h1:"GamePage_h1__1lcBd index_genericText__3sj49",userh1:"GamePage_userh1__2utBx index_genericText__3sj49",submitInfoText:"GamePage_submitInfoText__1pIOS index_genericText__3sj49",userInfoImg:"GamePage_userInfoImg__3oSTW"}},,,,,function(e,t,n){e.exports={Container:"LobbyPage_Container__3w_jx",inputContainer:"LobbyPage_inputContainer__29TIG",leftBackgroundContainer:"LobbyPage_leftBackgroundContainer__2ZiVT",leftBackground:"LobbyPage_leftBackground__1QgYV",leftBackgroundClicked:"LobbyPage_leftBackgroundClicked__3ZbEx LobbyPage_leftBackground__1QgYV",rightBackgroundContainer:"LobbyPage_rightBackgroundContainer__2hBH9",rightBackground:"LobbyPage_rightBackground__37Yy-",rightBackgroundClicked:"LobbyPage_rightBackgroundClicked__3IqH5 LobbyPage_rightBackground__37Yy-",titleContainer:"LobbyPage_titleContainer__1ea2C",rowContainer:"LobbyPage_rowContainer__23BHn",playButton:"LobbyPage_playButton__3Jb8l index_genericButton__33zSg",button:"LobbyPage_button__2Gudc index_genericButton__33zSg",p:"LobbyPage_p__S3-xE index_genericText__3sj49",errorMsg:"LobbyPage_errorMsg__2JP4F index_genericText__3sj49",inputField:"LobbyPage_inputField__2rLH2 index_genericText__3sj49"}},,,,,function(e,t,n){e.exports={userName:"Player_userName__2nVNU index_genericText__3sj49",userNameRight:"Player_userNameRight__TLHEl Player_userName__2nVNU index_genericText__3sj49",userNameLeft:"Player_userNameLeft__1ted6 Player_userNameRight__TLHEl Player_userName__2nVNU index_genericText__3sj49",utilityButton:"Player_utilityButton__1g2BF index_genericButton__33zSg",utilityIcon:"Player_utilityIcon__FTDSo"}},,,,,,,,,,function(e,t,n){e.exports={Container:"Deck_Container__deUXb",DeckContainer:"Deck_DeckContainer__oobRL",h3:"Deck_h3__lTBe6 index_genericText__3sj49",p:"Deck_p__1T5u2 index_genericText__3sj49"}},function(e,t,n){e.exports={popup:"Popup_popup__hK54X",popupContent:"Popup_popupContent__2GDBe",closeIcon:"Popup_closeIcon__2EMqv",closeButton:"Popup_closeButton__3tk-B"}},,,,,,,,,,,,,function(e,t,n){e.exports={Container:"ErrorPage_Container__1I_k7",h1:"ErrorPage_h1__2UsE6 undefined"}},,,,function(e,t,n){e.exports={Container:"App_Container__3iFbT"}},,,,,,function(e){e.exports=JSON.parse('["0AD","0AC","0AL","0AS","02D","02C","02L","02S","03D","03C","03L","03S","04D","04C","04L","04S","05D","05C","05L","05S","06D","06C","06L","06S","07D","07C","07L","07S","08D","08C","08L","08S","09D","09C","09L","09S","10D","10C","10L","10S","0JD","0JC","0JL","0JS","0QD","0QC","0QL","0QS","0KD","0KC","0KL","0KS"]')},,,,,,,function(e,t,n){},,,,,,function(e,t,n){var a={"./02C.png":67,"./02D.png":68,"./02L.png":69,"./02S.png":70,"./03C.png":71,"./03D.png":72,"./03L.png":73,"./03S.png":74,"./04C.png":75,"./04D.png":76,"./04L.png":77,"./04S.png":78,"./05C.png":79,"./05D.png":80,"./05L.png":81,"./05S.png":82,"./06C.png":83,"./06D.png":84,"./06L.png":85,"./06S.png":86,"./07C.png":87,"./07D.png":88,"./07L.png":89,"./07S.png":90,"./08C.png":91,"./08D.png":92,"./08L.png":93,"./08S.png":94,"./09C.png":95,"./09D.png":96,"./09L.png":97,"./09S.png":98,"./0AC.png":99,"./0AD.png":100,"./0AL.png":101,"./0AS.png":102,"./0JC.png":103,"./0JD.png":104,"./0JL.png":105,"./0JS.png":106,"./0KC.png":107,"./0KD.png":108,"./0KL.png":109,"./0KS.png":110,"./0QC.png":111,"./0QD.png":112,"./0QL.png":113,"./0QS.png":114,"./10C.png":115,"./10D.png":116,"./10L.png":117,"./10S.png":118,"./back-right.png":119,"./back.png":120};function c(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=r,e.exports=c,c.id=66},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/02C.3515bc0c.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/02D.c31616bd.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/02L.032ffccf.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/02S.6df3c0ce.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/03C.e0842db2.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/03D.27e7a0d3.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/03L.df9b74c3.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/03S.f4a7d08c.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/04C.4f6ad9b0.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/04D.1544baf2.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/04L.382f37ae.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/04S.a38bc55f.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/05C.4795d05f.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/05D.794ff8f3.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/05L.8a1f0193.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/05S.60a7f494.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/06C.2753c53d.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/06D.e2ef0786.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/06L.d25c6e53.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/06S.707de1b2.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/07C.6d02b220.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/07D.ef2a6b34.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/07L.9578f078.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/07S.74f1ffc0.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/08C.cde717d5.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/08D.50e7e199.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/08L.f41f6ba6.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/08S.10c98847.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/09C.1144db05.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/09D.0d5e90bc.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/09L.4650c3ed.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/09S.495a98a0.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0AC.9e6aef3b.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0AD.aeda88d5.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0AL.4d6a8529.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0AS.fcf78677.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0JC.bed555b7.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0JD.7d5b1425.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0JL.a8275793.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0JS.4bc09485.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0KC.3465224f.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0KD.6d1622eb.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0KL.a4d97c96.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0KS.77a2d5c7.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0QC.998956bc.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0QD.43fb00a0.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0QL.bf449feb.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0QS.b43a06b1.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/10C.5b7db3ed.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/10D.fb5e7ad7.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/10L.de56149e.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/10S.0f4121c8.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/back-right.8305c80e.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/back.d2784155.png"},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),r=n(46),i=n.n(r),s=(n(60),n(47)),o=n.n(s),u=n(22),l=n(10),d=n(24),f=n(29),p=n.n(f),g=n(25),b=n(36);b.a.initializeApp({apiKey:"AIzaSyA__laCqzqZe3MmI3_TC_F1ywdMvo4vprg",authDomain:"big2-4e418.firebaseapp.com",databaseURL:"https://big2-4e418-default-rtdb.firebaseio.com"});b.a.auth;var j=b.a.database(),m=n(35);function h(e){var t=n(66)("./".concat(e,".png"));if("undefined"===typeof t)throw Error("Invalid Card Type");return t.default}var _=["03","04","05","06","07","08","09","10","0J","0Q","0K","0A","02"],y=["D","C","L","S"];function O(e,t){var n=_.indexOf(e.slice(0,2).toUpperCase()),a=_.indexOf(t.slice(0,2).toUpperCase()),c=y.indexOf(e.slice(2).toUpperCase()),r=y.indexOf(t.slice(2).toUpperCase());return n>a?1:n<a?-1:c>r?1:c<r?-1:0}var x=["straight","flush","full house","four of a kind","straight flush","royal flush"];var C=n(4);function v(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),s=Object(l.a)(i,2),o=s[0],d=s[1],f=function(){return r(!c)},p=function(){return d(!o)},g={position:"absolute",left:"".concat(e.left,"%"),right:"".concat(e.right,"%"),top:"".concat(e.clicked?-10:e.top,"%"),padding:"0%",border:"0",backgroundColor:"transparent",width:"".concat(e.width,"%"),height:"".concat(e.height,"%")},b="auto"===e.height?2:1,j={width:"100%",height:"".concat("auto"===e.height?"auto":"100%"),filter:"drop-shadow(-1px ".concat(b,"px 1px #6a6161)"),margin:"0%",padding:"0%"},m=Object(u.a)(Object(u.a)({},j),{},{filter:"brightness(0.925) drop-shadow(-1px ".concat(b,"px 1px #6a6161)")}),_=Object(u.a)(Object(u.a)({},j),{},{filter:"brightness(0.85) drop-shadow(-1px ".concat(b,"px 1px #6a6161)")});return Object(C.jsx)("button",{style:g,onClick:function(){return e.clickable&&e.cardClickedHandler(e.cardType)},children:Object(C.jsx)("img",{style:c&&e.clickable?o?_:m:j,onMouseDown:p,onMouseUp:p,onMouseEnter:f,onMouseLeave:f,src:h(e.cardType),alt:"card"})})}var k,N,S,L,B,D,T=n(20);function P(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(),s=Object(l.a)(i,2),o=s[0],u=s[1];Object(a.useEffect)((function(){j.ref().child("Lobbies").child(e.lobbyCode).child("deck").on("value",(function(e){e.exists()&&(""!==e.val().cards&&r(e.val().cards),u(e.val()))}))}),[]);var f=Object(g.b)(k||(k=Object(d.a)(["\n        0% {transform: translate(0)}\n        50% {transform: translate(0, 5px)}\n        100% {transform: translate(0)}\n    "]))),b=Object(g.b)(N||(N=Object(d.a)(["\n        0% {transform: translate(0)}\n        50% {transform: translate(5px, 0)}\n        100% {transform: translate(0)}\n    "]))),m={},h={color:"var(--secondary-color)",width:"".concat(e.playerTurnNumber<3?"auto":"32.5%"),height:"".concat(e.playerTurnNumber<3?"70%":"auto"),marginBottom:"".concat(1===e.playerTurnNumber?3:0,"%")},_=Object(C.jsx)(T.a,{style:h});switch(e.playerTurnNumber){case 1:m=g.a.div(S||(S=Object(d.a)(["\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                pointer-events: none;\n\n                width: 100%;\n                height: auto;\n                grid-row-start: 3;\n                grid-column: 2;\n                animation: "," 1.5s ease-in-out;\n                animation-iteration-count: infinite;\n            "])),f),_=Object(C.jsx)(T.a,{style:h});break;case 2:m=g.a.div(L||(L=Object(d.a)(["\n                display: flex;\n                justify-content: center;\n                align-items: center;\n\n                width: 100%;\n                height: auto;\n                grid-row-start: 1;\n                grid-column: 2;\n                animation: "," 1.5s ease-in-out;\n                animation-iteration-count: infinite;\n            "])),f),_=Object(C.jsx)(T.f,{style:h});break;case 3:m=g.a.div(B||(B=Object(d.a)(["\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                \n                width: 100%;\n                height: auto;\n                grid-row: 2;\n                grid-column-start: 3;\n                animation: "," 1.5s ease-in-out;\n                animation-iteration-count: infinite;\n            "])),b),_=Object(C.jsx)(T.d,{style:h});break;case 4:m=g.a.div(D||(D=Object(d.a)(["\n                display: flex;\n                justify-content: center;\n                align-items: center;\n\n                width: 100%;\n                height: auto;\n                grid-row: 2;\n                grid-column-start: 1;\n                animation: "," 1.5s ease-in-out;\n                animation-iteration-count: infinite;\n            "])),b),_=Object(C.jsx)(T.b,{style:h});break;default:console.log("undefined deck player turn")}return Object(C.jsxs)("div",{className:p.a.Container,children:[e.playerTurnNumber&&Object(C.jsx)(m,{children:_}),Object(C.jsxs)("div",{className:p.a.DeckContainer,children:[c.length>0&&c.map((function(e,t){return Object(C.jsx)(v,{width:"15",left:(100-15*c.length)/2+15*t,cardType:e},e)})),o&&""!==o.deckType&&Object(C.jsxs)("h3",{className:p.a.h3,children:[o.deckType.toUpperCase()," ",o.emoji]}),o&&""!==o.placedBy&&Object(C.jsxs)("p",{className:p.a.p,children:["Placed By: ",o.placedBy]})]})]})}var I=n(19),w=n.n(I),E=n(51),G=n(42),A=n(52);function R(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(l.a)(i,2),o=s[0],u=s[1],d=0,f=0,p=0,g=0;switch(Object(a.useEffect)((function(){if("cards"in e.playerData){var t=Object.values(e.playerData.cards);r(t.map((function(e){return e.cardType})).sort(O))}else r([])}),[e.playerData]),e.playerNo.toString()){case"1":d=3,f=3,p="75% 25%",g="100%";break;case"2":d=1,f=3,p="20% 80%",g="100%";break;case"3":d=2,f=5,p="100%",g="80% 20%";break;case"4":d=2,f=1,p="100%",g="20% 80%";break;default:throw new Error("Invalid Player Number")}var b={gridRowStart:"".concat(d),gridColumnStart:"".concat(f),width:"100%",height:"100%",display:"grid",gridTemplateRows:"".concat(p),gridTemplateColumns:"".concat(g),justifyContent:"center"},j={gridRowStart:"".concat(1===e.playerNo?2:1),gridColumnStart:"".concat(3===e.playerNo?2:1),display:"flex",flexDirection:"".concat(e.playerNo<3?"row":"column-reverse"),justifyContent:"center",alignItems:"center"},h={gridRowStart:"".concat(2===e.playerNo?2:1),gridColumnStart:"".concat(4===e.playerNo?2:1),position:"relative"},_={color:"var(--secondary-color)",height:"fit-content",transform:"".concat(e.playerNo<3?"":"rotate(".concat(3===e.playerNo?-90:90,"deg)"))},y=function(e){o.includes(e)?u(o.filter((function(t){return t!==e}))):u([].concat(Object(m.a)(o),[e]))};return Object(C.jsxs)("div",{style:b,children:[Object(C.jsxs)("div",{style:j,children:[Object(C.jsx)(E.a,{style:_}),Object(C.jsx)("p",{className:e.playerNo<3?w.a.userName:4===e.playerNo?w.a.userNameLeft:w.a.userNameRight,children:e.children}),1===e.playerNo&&Object(C.jsx)("button",{className:w.a.utilityButton,onClick:function(){e.onSubmit(o),u([])},children:Object(C.jsx)(G.b,{className:w.a.utilityIcon})}),1===e.playerNo&&Object(C.jsx)("button",{className:w.a.utilityButton,onClick:function(){return e.onSkip()},children:Object(C.jsx)(A.a,{className:w.a.utilityIcon})}),1===e.playerNo&&Object(C.jsx)("button",{className:w.a.utilityButton,onClick:function(){return u([])},children:Object(C.jsx)(G.a,{className:w.a.utilityIcon})})]}),Object(C.jsx)("div",{style:h,children:c.map((function(t,n){t=e.playerNo<3?1===e.playerNo?t:"back":"back-right";var a=0,r=0,i="auto",s="auto";return 1===e.playerNo?(a=90/(c.length-1)*n,i=10,c.length<10&&(a=10*(10-c.length)/2+10*n)):2===e.playerNo?(r=.333*(s=7.5*(i=10)),a=90/(c.length-1)*n,c.length<10&&(a=10*(10-c.length)/2+10*n)):3===e.playerNo?(i=2.25*(s=14.25),n>=13?(a=i,r=n%13*7.125):r=c.length-1>13?7.125*n:85.5/(c.length-1)*n,c.length<13&&n>13&&(r=(7*s-c.length*s)/2+n*s)):4===e.playerNo&&(i=2.25*(s=14.25),a=67.5,n>=13?(a-=i,r=n%13*7.125):r=c.length-1>13?7.125*n:85.5/(c.length-1)*n,c.length<13&&n>=13&&(r=(7*s-c.length*s)/2+n*s)),Object(C.jsx)(v,{clickable:1===e.playerNo,clicked:o.includes(t),left:a,top:r,width:i,height:s,cardClickedHandler:y,cardType:t},n)}))})]})}var J=n(9),K=n.n(J),M=n(11),U=n(34),F=n(54),Q=n(43),H=n.n(Q);function z(e){return Object(C.jsx)("div",{className:H.a.Container,children:Object(C.jsx)("h1",{className:H.a.h1,children:e.children})})}var V=n(53),q=n.p+"static/media/circle.53f8fa04.png",W=n.p+"static/media/user-info.831d109c.png",Y=n.p+"static/media/user-info2.1b50f55a.png",Z=n.p+"static/media/circle-filled.140c7c5b.png",X=n(30),$=n.n(X);function ee(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){var n=function(n){t.current&&!t.current.contains(n.target)&&e.onCloseButtonClicked()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}})),e.trigger&&Object(C.jsx)("div",{className:$.a.popup,children:Object(C.jsxs)("div",{ref:t,className:$.a.popupContent,children:[e.children,Object(C.jsx)("button",{onClick:e.onCloseButtonClicked,className:$.a.closeButton,children:Object(C.jsx)(U.a,{className:$.a.closeIcon})})]})})}function te(){var e=Object(M.g)(),t=Object(M.f)(),n=e.search.indexOf("code="),c=e.search.indexOf("name="),r=e.search.substring(n+5,c-1),i=e.search.substring(c+5),s=j.ref().child("Lobbies"),o=s.child(r).child("playerTurn"),d=s.child(r).child("deck"),f=s.child(r).child("players"),p=Object(a.useState)(!1),g=Object(l.a)(p,2),b=g[0],h=g[1],v=Object(a.useState)(!0),k=Object(l.a)(v,2),N=k[0],S=k[1],L=Object(a.useState)(!1),B=Object(l.a)(L,2),D=B[0],I=B[1],w=Object(a.useState)(!1),E=Object(l.a)(w,2),G=E[0],A=E[1],J=Object(a.useState)(!1),Q=Object(l.a)(J,2),H=Q[0],X=Q[1],$=Object(a.useState)(!1),te=Object(l.a)($,2),ne=te[0],ae=te[1],ce=Object(a.useState)(1),re=Object(l.a)(ce,2),ie=re[0],se=re[1],oe=Object(a.useState)(""),ue=Object(l.a)(oe,2),le=ue[0],de=ue[1],fe=Object(a.useState)(""),pe=Object(l.a)(fe,2),ge=pe[0],be=pe[1],je=Object(a.useState)([]),me=Object(l.a)(je,2),he=me[0],_e=me[1],ye=Object.keys(he).find((function(e){return he[e].name===i})),Oe=Object.values(he).find((function(e){return!0===e.host&&e.name===i})),xe={},Ce=V,ve=2;Object(a.useEffect)((function(){b&&(f.on("value",(function(e){e.exists()&&_e(e.val())})),o.on("value",(function(e){e.exists()&&be(e.val())})),s.child("".concat(r)).on("value",(function(e){e.exists()&&(I(e.val().started),A(e.val().gameEnded),X(e.val().prevWinner))})))}),[b]),Object(a.useEffect)((function(){s.orderByKey().equalTo(r).once("value",(function(e){h(e.exists()),S(!1)}))}),[r]),Object(a.useEffect)((function(){return window.addEventListener("beforeunload",ke),window.addEventListener("unload",Le),function(){window.removeEventListener("beforeunload",ke),window.removeEventListener("unload",Le)}})),Object(a.useEffect)((function(){if(D&&Oe){!function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}}(Ce);for(var e=0,t=Object.keys(he),n=0;n<t.length;n++)s.child("".concat(r,"/players/").concat(t[n],"/cards")).remove();for(var a=0;a<Ce.length;a++){s.child("".concat(r,"/players/").concat(t[e++%t.length],"/cards")).push({cardType:Ce[a]}),"03D"===Ce[a]&&s.child(r).update({playerTurn:he[t[(e-1)%t.length]].name})}}}),[D]),Object(a.useEffect)((function(){ye=Object.keys(he).find((function(e){return he[e].name===i})),D?G&&(s.child("".concat(r)).update({started:!1,gameEnded:!1}),s.child("".concat(r)).child("deck").set({cards:"",deckType:"",largestCardInDeck:"",emoji:"",placedBy:""}),Object.keys(he).forEach((function(e){f.child("".concat(e)).update({cards:"",ready:!1})}))):setTimeout((function(){Object.keys(he).length>1&&"undefined"===typeof Object.values(he).find((function(e){return!1===e.ready}))&&s.child("".concat(r)).update({started:!0})}),1e3)}),[he]);var ke=function(e){e.preventDefault(),e.returnValue=""},Ne=function(e){if(0!==e.length)if(ge===i){var t="",n="";d.once("value",(function(a){if(a.exists()){t=a.val().deckType,n=a.val().largestCardInDeck;var c=function(e){var t,n,a=Object(m.a)(e).sort(O).reverse(),c="";if(1===e.length)return["single",e[0],""];if(2===e.length&&e[0].substring(0,2)===e[1].substring(0,2))return["double",(t=y.indexOf(e[0].substring(2)))>(n=y.indexOf(e[1].substring(2)))?e[0]:e[1],"\xaf\\_(\xb0 \u035c\u0296 \xb0)_/\xaf"];if(3===e.length&&e[0].substring(0,2)===e[1].substring(0,2)&&e[0].substring(0,2)===e[2].substring(0,2))return t=y.indexOf(e[0].substring(2)),n=y.indexOf(e[1].substring(2)),c=y.indexOf(e[2].substring(2)),["triple",t>n?c>t?e[2]:e[0]:e[1],"\u256d( \u0e50_\u0e50)\u256e"];if(5===e.length){var r=a[0].slice(2);if(a.every((function(e){return e.slice(2)===r}))){var i=0;return a.every((function(e){var t=_.indexOf(e.slice(0,2));return(i-t===1||0===i)&&(i=t,!0)}))?"0A"===a[0].slice(0,2)?["royal flush",a[0],"\u2727\uff65\uff9f:*( \u0361\ua20d \u035c\u0296\u032b \u0361\ua20d )*:\uff65\uff9f\u2727"]:["straight flush",a[0],"( \u0361\xb0 \u035c\u0296 \u0361\xb0)_\u256d\u2229\u256e"]:["flush",a[0],"~( \u02d8\u25be\u02d8~)"]}var s="";if(a.every((function(e){var t=_.indexOf(e.slice(0,2));return(s-t===1||""===s)&&(s=t,!0)})))return["straight",a[0],"(\u2256 \u035c\u0296\u2256)"];var o=[];a.forEach((function(e){return o.push(e.slice(0,2))}));var u=o.filter((function(e,t){return o.indexOf(e)===t})),l=0,d=0;if(o.forEach((function(e){e===u[0]?l++:e===u[1]&&d++})),3===Math.abs(l-d))return["four of a kind",l>d?a[0]:a[1],"(\u0283\u01aa\u02f6\u02d8 \ufeec \u02d8\u02f6)"];if(1===Math.abs(l-d))return["full house",l>d?a[0]:a[2],"(~\u203e\u2323\u203e)~"]}return["invalid",-1,""]}(e);if(-1===c[1])return void de("Invalid Cards");if(!(""===t||(l=c[0],p=t,l===p||-1!==x.indexOf(l)&&-1!==x.indexOf(p)&&x.indexOf(l)>=x.indexOf(p))))return void de("Invalid Cards");if(c[0]===t){if(!(O(c[1],n)>0))return void de("Invalid Cards");d.set({cards:e,deckType:c[0],largestCardInDeck:c[1],emoji:c[2],placedBy:i})}else d.set({cards:e,deckType:c[0],largestCardInDeck:c[1],emoji:c[2],placedBy:i});e.forEach((function(e){var t=Object.keys(he[ye].cards).find((function(t){return he[ye].cards[t].cardType===e}));f.child("".concat(ye,"/cards/").concat(t)).remove()})),Object.keys(he[ye].cards).length-e.length===0&&s.child("".concat(r)).update({gameEnded:!0,prevWinner:i});var o=Object.keys(xe),u=(o.indexOf(ge)+1)%o.length;s.child(r).update({playerTurn:o[u]}),de("")}var l,p}))}else de("It's not your turn yet, I beg you to patiently wait \ud83d\ude29")},Se=function(){if(ge===i){var e=Object.keys(xe),t=(e.indexOf(ge)+1)%e.length;s.child(r).update({playerTurn:e[t]});var n=s.child("".concat(r,"/deck"));n.once("value",(function(a){a.val().placedBy===e[t]&&n.update({deckType:"",largestCardInDeck:"",emoji:"",placedBy:""})}))}},Le=function(){Object.entries(he).forEach((function(e){var t=Object(l.a)(e,2),n=t[0];t[1].name===i&&s.child("".concat(r,"/players/").concat(n)).remove()})),s.child("".concat(r,"/players")).once("value",(function(e){e.exists()||s.child(r).remove()})),t.push("/lobby")};return N?Object(C.jsx)("div",{className:K.a.loadingContainer,children:Object(C.jsx)("h1",{className:K.a.h1,children:"Loading..."})}):b?Object(C.jsxs)("div",{className:K.a.Container,children:[!D&&Object(C.jsxs)("div",{className:K.a.playerReadyContainer,children:[""!==H&&Object(C.jsxs)("p",{className:K.a.submitInfoText,children:["CONGRATUALTIONS, WINNER IS ",H,"!!!\u30fd(\u2022\u203f\u2022)\u30ce"]}),Object(C.jsx)("div",{className:K.a.rowContainer,children:Object.values(he).map((function(e){return Object(C.jsx)("img",{src:e.ready?Z:q,className:K.a.readyCircle,alt:"ready button"},e.name)}))}),Object(C.jsx)("button",{className:K.a.playButton,onClick:function(){var e=s.child(r).child("/players/".concat(ye));e.once("value",(function(t){e.set(Object(u.a)(Object(u.a)({},t.val()),{},{ready:!0}))}))},children:"".concat(""===H?"Ready?":"Go again?")}),Object(C.jsx)("p",{className:K.a.words,children:"undefined"===typeof Object.values(he).find((function(e){return!1===e.ready}))&&1===Object.keys(he).length?"Hmmmm, the game needs more than 1 player to start \xaf\\_( \u0361\u275b\u202f\u035c\u0296 \u0361\u275b)_/\xaf":"only click if you're actually ready, of course \u2609_\u2609"})]}),Object(C.jsxs)("div",{className:K.a.userCorner,children:[Object(C.jsxs)("button",{className:K.a.cornerButton,onClick:function(){return Le()},children:[Object(C.jsx)(U.b,{className:K.a.cornerIcon}),Object(C.jsx)("p",{className:K.a.tooltip,children:"Exit"})]}),Object(C.jsxs)("p",{className:K.a.p,children:["CODE: ",r]}),Object(C.jsxs)("button",{onClick:function(){return ae(!0)},className:K.a.cornerButton,children:[Object(C.jsx)(F.a,{className:K.a.cornerIcon}),Object(C.jsx)("p",{className:K.a.tooltip,children:"Info"})]})]}),Object(C.jsx)(ee,{onCloseButtonClicked:function(){return ae(!ne)},trigger:ne,children:Object(C.jsxs)("div",{className:K.a.userInfoContainer,children:[Object(C.jsx)("h1",{className:K.a.userh1,children:"User Guide"}),Object(C.jsx)("img",{src:1===ie?W:Y,className:K.a.userInfoImg,alt:"info"}),1===ie&&Object(C.jsx)("button",{onClick:function(){return se(2)},className:K.a.pageButton,children:Object(C.jsx)(T.e,{className:K.a.cornerIcon})}),2===ie&&Object(C.jsx)("button",{onClick:function(){return se(1)},className:K.a.pageButton,children:Object(C.jsx)(T.c,{className:K.a.cornerIcon})})]})}),Object.values(he).map((function(e,t){var n=e.name===i?1:ve++;return xe[e.name]=n,Object(C.jsx)(R,{turn:e.name===ge,onSubmit:Ne,onSkip:Se,playerData:e,playerIndex:t,lobbyCode:r,playerNo:n,children:e.name},n)})),D&&Object(C.jsx)(P,{playerTurnNumber:xe[ge],lobbyCode:r}),""!==le&&Object(C.jsx)("div",{className:K.a.submitInfoContainer,children:Object(C.jsx)("h1",{className:K.a.submitInfoText,children:le})})]}):Object(C.jsx)(z,{children:"404 Lobby not found"})}var ne=n(14),ae=n.n(ne),ce=n.p+"static/media/leftBackground.66308860.png",re=n.p+"static/media/rightBackground.f3f3e34f.png";function ie(){var e=Object(M.f)(),t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),s=Object(l.a)(i,2),o=s[0],u=s[1],d=Object(a.useState)(!1),f=Object(l.a)(d,2),p=f[0],g=f[1],b=Object(a.useState)(""),m=Object(l.a)(b,2),h=m[0],_=m[1],y=j.ref().child("Lobbies"),O=function(){if(0===o.length)return _("Please enter a name"),!1;return!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?\s]+/.test(o)||(_("No special characters or spaces allowed for Player Name"),!1)},x=function(){var e=Math.floor(36*Math.random());return e<10?e.toString():String.fromCharCode(55+e)};return Object(C.jsxs)("div",{className:ae.a.Container,children:[p?Object(C.jsxs)("div",{className:ae.a.inputContainer,children:[Object(C.jsx)("p",{className:ae.a.p,children:"Lobby Code"}),Object(C.jsx)("form",{onSubmit:function(t){(t.preventDefault(),O())&&(""!==c?(y.orderByKey().equalTo(c).once("value",(function(t){if(t.exists()){if(!0===t.val()[c].started)return void _("Game already started");if(t.val()[c].players.length>=4)return void _("Lobby full");y.child("".concat(c)).child("players").push({name:o,ready:!1,host:!1}).then(e.push({pathname:"/game",search:"?code=".concat(c,"&name=").concat(o)}))}else _("Lobby doesn't exist")})),r("")):_("Please enter a lobby code"))},children:Object(C.jsxs)("div",{className:ae.a.rowContainer,children:[Object(C.jsx)("input",{className:ae.a.inputField,value:c,onChange:function(e){return r(e.target.value.toUpperCase())},type:"text"}),Object(C.jsx)("button",{className:ae.a.button,type:"submit",children:"Enter"}),Object(C.jsx)("p",{className:ae.a.p,children:"\u2002Or\u2002"})," ",Object(C.jsx)("br",{}),Object(C.jsx)("button",{className:ae.a.button,onClick:function(t){if(t.preventDefault(),O()){c=x()+x()+x()+x(),y.orderByKey().equalTo(c).once("value",(function(e){e.exists()&&(c=x()+x()+x()+x())}));var n=j.ref().child("Lobbies/".concat(c));n.set({id:c,started:!1,gameEnded:!1,playerTurn:o,prevWinner:""}),n.child("deck").set({cards:"",deckType:"",largestCardInDeck:"",emoji:"",placedBy:""}),n.child("players").push({name:o,ready:!1,host:!0}),e.push({pathname:"/game",search:"?code=".concat(c,"&name=").concat(o)})}},children:"Create A Room"})]})}),Object(C.jsx)("p",{className:ae.a.p,children:"Player Name"}),Object(C.jsx)("input",{className:ae.a.inputField,value:o,onChange:function(e){return u(e.target.value)},type:"text"}),""!==h&&Object(C.jsx)("h1",{className:ae.a.errorMsg,children:h})]}):Object(C.jsx)("button",{className:ae.a.playButton,onClick:function(){return g(!0)},children:"Play"}),Object(C.jsx)("div",{className:ae.a.leftBackgroundContainer,children:Object(C.jsx)("img",{src:ce,alt:"leftBackground",className:p?ae.a.leftBackgroundClicked:ae.a.leftBackground})}),Object(C.jsx)("div",{className:ae.a.rightBackgroundContainer,children:Object(C.jsx)("img",{src:re,alt:"rightBackground",className:p?ae.a.rightBackgroundClicked:ae.a.rightBackground})})]})}var se=n(40);var oe=function(){return Object(C.jsx)("div",{className:o.a.Container,children:Object(C.jsx)(se.a,{children:Object(C.jsxs)(M.c,{children:[Object(C.jsx)(M.a,{path:"/",exact:!0,component:ie}),Object(C.jsx)(M.a,{path:"/lobby",exact:!0,component:ie}),Object(C.jsx)(M.a,{path:"/game",exact:!0,component:te}),Object(C.jsx)(M.a,{path:"*",component:function(){return Object(C.jsx)(z,{children:"404 Page not found"})}})]})})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,127)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(oe,{})}),document.getElementById("root")),ue()}],[[126,1,2]]]);
//# sourceMappingURL=main.d8c37d32.chunk.js.map